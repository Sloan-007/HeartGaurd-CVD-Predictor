<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>HeartGaurd- Your Risk Details</title>
  <meta content="" name="description">
  <meta content="" name="keywords">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <!-- Favicons -->
  <link href="../static/img/heart-shield.png" rel="icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="../static/vendor/aos/aos.css" rel="stylesheet">
  <link href="../static/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="../static/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="../static/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="../static/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="../static/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="../static/css/style.css" rel="stylesheet">
  <link href="../static/css/risk_details.css" rel="stylesheet">

</head>

<body>

  <!-- ======= Top Bar ======= -->
  <section id="topbar" class="d-flex align-items-center">
    <div class="container d-flex justify-content-center justify-content-md-between">
      <div class="contact-info d-flex align-items-center">
        <i class="bi bi-envelope d-flex align-items-center"><a href="mailto:contact@example.com">contact@example.com</a></i>
        <i class="bi bi-phone d-flex align-items-center ms-4"><span>+1 5589 55488 55</span></i>
      </div>
      <div class="social-links d-none d-md-flex align-items-center">
        <a href="#" class="twitter"><i class="bi bi-twitter"></i></a>
        <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
        <a href="#" class="instagram"><i class="bi bi-instagram"></i></a>
        <a href="#" class="linkedin"><i class="bi bi-linkedin"></i></i></a>
      </div>
    </div>
  </section>

  <!-- ======= Header ======= -->
  <header id="header" class="d-flex align-items-center">
    <div class="container d-flex justify-content-between">

      <div class="logo">
        <h1 class="text-light"><a href="index.html">HeartGaurd</a></h1>
        <!-- Uncomment below if you prefer to use an image logo -->
        <!-- <a href="index.html"><img src="static/img/logo.png" alt="" class="img-fluid"></a>-->
      </div>

      <nav id="navbar" class="navbar">
        <ul>
          <li><a class="nav-link scrollto" href="{{ url_for('index') }}">Home</a></li>
          {% if logged_in %}
            <li><a class="nav-link scrollto" href="{{ url_for('user_profile') }}">Profile</a></li>
            <li><a class="nav-link scrollto" href="{{ url_for('logout') }}">Logout</a></li>
          {% endif %}
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->

  <main id="main">

    <!-- ======= Breadcrumbs ======= -->
    <section class="breadcrumbs">
      <div class="container">

        <div class="d-flex justify-content-between align-items-center">
          <h2>Risk Details</h2>
          <ol>
            <li><a href="{{ url_for('index') }}" class="nav-link scrollto">Home</a></li>
            <li>Input Data</a></li>
            <li>Confirm Data</a></li>
            <li><a class="active" href="{{ url_for('risk_details') }}">Risk Details</a></li>
          </ol>
        </div>

      </div>
    </section><!-- End Breadcrumbs -->
    <section class="inner-page">
      <div class="container-xl px-4 mt-4">
        <div class="row">
          <div class="col-lg-4 mb-4">
            {% if prediction =="No Heart Disease" %}
              <div class="card h-100 border-start-lg border-start-success">
                <div class="card-body">
                  <div class="small text-dark">Your Predicted CVD Risk</div>
                  <p style="font-weight: bold; font-size: 24px; color: #00ac69;">{{ prediction }}</p>
                  <div class="back-button">
                    <a class="btn btn-secondary" href="{{ url_for('index') }}">Back to Home</a>
                  </div>
                </div>
              </div>
            {% elif prediction =="Heart Disease" %}
              <div class="card h-100 border-start-lg border-start-red">
                <div class="card-body">
                  <div class="small text-dark">Your Predicted CVD Risk</div>
                  <p style="font-weight: bold; font-size: 24px; color: crimson;">{{ prediction }}</p>
                  <div class="back-button">
                    <a class="btn btn-secondary" href="{{ url_for('index') }}">Back to Home</a>
                  </div>
                </div>
              </div>  
            {% endif %}  
          </div>
        </div>
        <div class="row">
          <div class="result-card-2">
            <div class="dropdown-header" data-toggle="collapse" data-target="#collapseDetails" aria-expanded="false" aria-controls="collapseDetails">
              <h3>What Does This Mean?</h3>
              <i class="bi bi-chevron-down"></i>
            </div>
            <div class="collapse" id="collapseDetails">
              <div class="detailed-explanation">
                <p>Your predicted risk result indicates your likelihood of having cardiovascular disease (CVD), commonly referred to as heart disease. Here is what your result means:</p>

            {% if prediction == "Heart Disease" %}
                <h4>Heart Disease</h4>
                <p>If your result is "Heart Disease," it means that based on the data provided, you have a higher risk of having or developing heart disease. Heart disease is a general term that includes various heart-related conditions. Here are some common types of heart disease:</p>
                <ul>
                    <li><strong>Coronary Artery Disease (CAD):</strong> This is the most common type of heart disease, where the coronary arteries that supply blood to the heart muscle become narrowed or blocked. This can lead to chest pain (angina), heart attacks, and other complications.</li>
                    <li><strong>Heart Failure:</strong> A condition where the heart is unable to pump blood efficiently, leading to symptoms such as shortness of breath, fatigue, and fluid buildup in the body.</li>
                    <li><strong>Arrhythmias:</strong> These are irregular heartbeats that can cause the heart to beat too fast, too slow, or with an irregular rhythm. Arrhythmias can lead to palpitations, dizziness, or even sudden cardiac arrest.</li>
                    <li><strong>Heart Valve Disease:</strong> Occurs when one or more of the heart valves do not function properly, which can affect blood flow through the heart and lead to various symptoms.</li>
                    <li><strong>Congenital Heart Disease:</strong> Structural heart defects present from birth that can affect the heart's function.</li>
                </ul>
                <p><strong>Implications for Your Health:</strong> A result indicating "Heart Disease" suggests that you should consult with a healthcare provider for further evaluation and possible diagnostic testing. Early detection and management are crucial in preventing complications and improving your overall heart health.</p>
            {% else %}
                <h4>No Heart Disease</h4>
                <p>If your result is "No Heart Disease," it means that based on the data provided, you have a lower risk of having or developing heart disease at this time. However, it is essential to maintain a healthy lifestyle to keep your risk low.</p>
                <p><strong>Implications for Your Health:</strong> Even with a "No Heart Disease" result, it's important to continue practicing healthy habits such as regular exercise, a balanced diet, avoiding smoking, and limiting alcohol intake. Regular check-ups with your healthcare provider can help monitor your heart health and catch any potential issues early.</p>
            {% endif %}
              </div>
            </div>
          </div>
        </div>
        <br>
        <div class="row">
          <div class="result-card-2">
            <div class="dropdown-header" data-toggle="collapse" data-target="#collapseRiskFactors" aria-expanded="false" aria-controls="collapseRiskFactors">
              <h3>Risk Factors Breakdown</h3>
              <i class="bi bi-chevron-down"></i>
            </div>
            <div class="collapse" id="collapseRiskFactors">
              <div class="risk-factors">
                <table class="table">
                  <thead>
                    <tr>
                      <th>Risk Factor</th>
                      <th>Value</th>
                      <th>Explanation</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for factor, value in risk_factors %}
                    <tr>
                      <td>{{ factor }}</td>
                      <td>{{ value }}</td>
                      <td>{{ explanations.get(factor, 'No explanation') }}</td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <br>
        <div class="row">
          <div class="result-card-2">
            <div class="dropdown-header" data-toggle="collapse" data-target="#collapseVisualAids" aria-expanded="false" aria-controls="collapseVisualAids">
              <h3>Visual Aids</h3>
              <i class="bi bi-chevron-down"></i>
            </div>
            <div class="collapse" id="collapseVisualAids">
              <div class="visual-aids">
                <div id="chartCarousel" class="carousel slide" data-ride="carousel">
                  <div class="carousel-inner">
                    <div class="carousel-item active">
                      <br>
                      <h5 style="text-align: center;">Bar Plot for Systolic Blood Pressure, Diastolic Blood Pressure and BMI</h5>
                      <img src="{{ url_for('chart', chart_type='main') }}" alt="Your Input Vs Average Values (as per Age and Gender)" class="d-block w-100 chart-img">
                    </div>
                  </div>
                  <a class="carousel-control-prev" href="#chartCarousel" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                  </a>
                  <a class="carousel-control-next" href="#chartCarousel" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <br>
        <div class="row">
            <div class="result-card-2">
                <div class="dropdown-header" data-toggle="collapse" data-target="#collapseRecommendations" aria-expanded="false" aria-controls="collapseRecommendations">
                    <h3>Personalized Recommendations</h3>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="collapse" id="collapseRecommendations">
                    <div class="personalized-recommendations">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Factor</th>
                                    <th>Entered Values</th>
                                    <th>General Values</th>
                                    <th>Recommendation</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for rec in recommendations %}
                                    <tr>
                                        <td>{{ rec['factor'] }}</td>
                                        <td>{{ rec['your_value'] }}</td>
                                        <td>{{ rec['average_value'] }}</td>
                                        <td>{{ rec['recommendation'] }}</td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
      </div>
    </section>
  </main><!-- End #main -->

   <!-- ======= Footer ======= -->
   <footer id="footer">

    <div class="footer-top">

      <div class="row  justify-content-center">
        <div class="col-lg-6">
          <h3>HeartGaurd</h3>
          <p>A Healthy Heart can lead you to long and joyful life.</p>
        </div>
      </div>

      <div class="row footer-newsletter justify-content-center">
        <div class="col-lg-6">
          <form action="" method="post">
            <input type="email" name="email" placeholder="Enter your Email"><input type="submit" value="Subscribe">
          </form>
        </div>
      </div>

        <div class="social-links">
          <a href="#" class="twitter"><i class="bx bxl-twitter"></i></a>
          <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a>
          <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
          <a href="#" class="google-plus"><i class="bx bxl-skype"></i></a>
          <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
        </div>

      </div>
    </div>

    <div class="container footer-bottom clearfix">
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="../static/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="../static/vendor/aos/aos.js"></script>
  <script src="../static/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="../static/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="../static/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="../static/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="../static/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="../static/js/main.js"></script>

</body>

</html>